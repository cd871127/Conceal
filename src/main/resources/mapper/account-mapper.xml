<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.anthony.conceal.dao.AccountMapper">

    <select id="queryAccountByPaging" parameterType="java.util.HashMap" resultType="accountDTO">
        SELECT
            id               AS id,
            owner_id         AS ownerId,
            account_name     AS accountName,
            account_password AS accountPassWord,
            account_desc     AS accountDesc,
            account_url      AS accountUrl,
            account_type     AS accountType,
            create_date      AS createDate,
            update_date      AS updateDate
        FROM account_tbl
        WHERE owner_id = (SELECT id
                          FROM user_tbl
                          WHERE user_name = #{userName}) AND data_state = '1'
        LIMIT #{startIndex}, #{pageSize}
    </select>

</mapper>